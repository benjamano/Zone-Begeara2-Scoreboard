import sys

try:
    import __init__ as init
    import func.format as format
except Exception as e:
    sys.exit(f"An error occurred: {e}")

try:
    init.start()
    print("\n|----------------------------------------------------------------------------------------------------|\n")
    
    print("""
██╗░░░░░░█████╗░░██████╗███████╗██████╗░░░░░░░████████╗░█████╗░░██████╗░
██║░░░░░██╔══██╗██╔════╝██╔════╝██╔══██╗░░░░░░╚══██╔══╝██╔══██╗██╔════╝░
██║░░░░░███████║╚█████╗░█████╗░░██████╔╝█████╗░░░██║░░░███████║██║░░██╗░
██║░░░░░██╔══██║░╚═══██╗██╔══╝░░██╔══██╗╚════╝░░░██║░░░██╔══██║██║░░╚██╗
███████╗██║░░██║██████╔╝███████╗██║░░██║░░░░░░░░░██║░░░██║░░██║╚██████╔╝
╚══════╝╚═╝░░╚═╝╚═════╝░╚══════╝╚═╝░░╚═╝░░░░░░░░░╚═╝░░░╚═╝░░╚═╝░╚═════╝░

░██████╗░█████╗░░█████╗░██████╗░███████╗██████╗░░█████╗░░█████╗░██████╗░██████╗░
██╔════╝██╔══██╗██╔══██╗██╔══██╗██╔════╝██╔══██╗██╔══██╗██╔══██╗██╔══██╗██╔══██╗
╚█████╗░██║░░╚═╝██║░░██║██████╔╝█████╗░░██████╦╝██║░░██║███████║██████╔╝██║░░██║
░╚═══██╗██║░░██╗██║░░██║██╔══██╗██╔══╝░░██╔══██╗██║░░██║██╔══██║██╔══██╗██║░░██║
██████╔╝╚█████╔╝╚█████╔╝██║░░██║███████╗██████╦╝╚█████╔╝██║░░██║██║░░██║██████╔╝
╚═════╝░░╚════╝░░╚════╝░╚═╝░░╚═╝╚══════╝╚═════╝░░╚════╝░╚═╝░░╚═╝╚═╝░░╚═╝╚═════╝░

██████╗░██╗░░░██╗  ██████╗░███████╗███╗░░██╗  ███╗░░░███╗███████╗██████╗░░█████╗░███████╗██████╗░
██╔══██╗╚██╗░██╔╝  ██╔══██╗██╔════╝████╗░██║  ████╗░████║██╔════╝██╔══██╗██╔══██╗██╔════╝██╔══██╗
██████╦╝░╚████╔╝░  ██████╦╝█████╗░░██╔██╗██║  ██╔████╔██║█████╗░░██████╔╝██║░░╚═╝█████╗░░██████╔╝
██╔══██╗░░╚██╔╝░░  ██╔══██╗██╔══╝░░██║╚████║  ██║╚██╔╝██║██╔══╝░░██╔══██╗██║░░██╗██╔══╝░░██╔══██╗
██████╦╝░░░██║░░░  ██████╦╝███████╗██║░╚███║  ██║░╚═╝░██║███████╗██║░░██║╚█████╔╝███████╗██║░░██║
╚═════╝░░░░╚═╝░░░  ╚═════╝░╚══════╝╚═╝░░╚══╝  ╚═╝░░░░░╚═╝╚══════╝╚═╝░░╚═╝░╚════╝░╚══════╝╚═╝░░╚═╝""")
    
    import webApp as webApp
    import eventlet
    import subprocess
    import waitress

    print("\n|----------------------------------| STARTING WEB APP |----------------------------------------|\n")
    #subprocess.Popen([sys.executable, "-m", "flask", "webApp:app", "--port=8080"])
    eventlet.wsgi.server(eventlet.listen(('0.0.0.0', 8080)), webApp.app)
    
except Exception as e:
    sys.exit(f"An error occurred: {e}")